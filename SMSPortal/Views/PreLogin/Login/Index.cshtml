@model SMSPortal.Models.PreLogin.LoginViewModel
@using SMSPortalInfo.Common;
@{
    Layout = null;
}

<!DOCTYPE html>

<html lang="en">

<head>

    <meta charset="UTF-8">

    <title>Log in</title>

    <meta content='width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no' name='viewport'>

    <link href="~/Content/AdminLTE/bootstrap/css/bootstrap.min.css" rel="stylesheet" type="text/css" />

    <link href="~/Content/css/font-awesome.min.css" rel="stylesheet" />

    <link href="Content/AdminLTE/dist/css/AdminLTE.min.css" rel="stylesheet" type="text/css" />
    <style type="text/css">
        .login-error {
            font-size:12px;
            color:red;
            font-style:italic;
        }

    </style>
</head>

<body class="login-page">
    @{Html.RenderPartial("_ServerMessage");}
    <div class="login-box">

        <div class="login-logo">
        </div><!-- /.login-logo -->
        <div class="login-box-body">
            @*<p class="login-box-msg">Sign in to start your session</p>*@
            <form id="frmLogin" action="@Url.Action("Authenticate", "Login")" method="post">
                <div class="form-group">
                    <div class="input-group" id="UserName">
                        <input type="text" name="Cookies.User_Name" id="txtUserName" class="form-control input-sm" placeholder="Username" />
                        <div class="input-group-addon">
                            <i class="fa fa-user"></i>
                        </div>
                    </div>
                    <!-- /.input group -->
                </div>
                <div class="form-group">
                    <div class="input-group" id="Password">
                       
                        <input type="password" name="Cookies.Password" id="txtPassword" class="form-control input-sm" placeholder="Password" />
                        <div class="input-group-addon">
                            <i class="fa fa-lock"></i>
                        </div>
                    </div>
                    <!-- /.input group -->
                </div>

                <div class="row">
                    <div class="col-xs-4">
                        <button type="submit" id="btnLogin" class="btn btn-primary btn-block btn-flat">Sign In</button>
                    </div><!-- /.col -->
                    <div class="col-xs-2">

                    </div>
                    <div class="col-xs-6">
                        <a href="@Url.Action("ForgotPassword", "Login")">Forgot Password</a>
                    </div><!-- /.col -->
                </div>
            </form>

        </div><!-- /.login-box-body -->
    </div><!-- /.login-box -->

    <script src="Content/AdminLTE/plugins/jQuery/jQuery-2.1.3.min.js"></script>
    <script src="Scripts/jquery.validate.js"></script>
    <script src="Content/AdminLTE/bootstrap/js/bootstrap.min.js" type="text/javascript"></script>
    <script src="Content/AdminLTE/plugins/iCheck/icheck.min.js" type="text/javascript"></script>
    <script src="/Scripts/generic.custom.validation.js"></script>
    <script src="/Scripts/jquery.cookie.js"></script>

    <script>
        $(function () {

            // Emptying the cookie on user login
            $("#btnLogin").click(function () {                
                $.removeCookie('cart', { path: '/' });
            });

            $("#frmLogin").validate({
                errorClass: "login-error",
                rules: {

                    "Session.User_Name": { required: true },

                    "Session.Password": { required: true },
                },
                messages: {

                    "Session.User_Name": { required: "User Name is required field." },

                    "Session.Password": { required: "Password is required field." },

                },
                errorPlacement: function (error, element) {
                    if (element.attr("name") == "Session.User_Name") {
                        error.insertAfter("#UserName");
                    } 
                    if (element.attr("name") == "Session.Password")
                        {
                        error.insertAfter("#Password");
                    }
                }

                
            });

        });


    </script>

</body>

</html>
